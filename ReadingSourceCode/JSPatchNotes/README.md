# [JSPatch](https://github.com/bang590/JSPatch)(v1.1.3)源码解析
-------

### 如何应对苹果审核时被拒？

针对苹果审核被拒的解决方案，包括三点：

- 强制脚本下发必须使用自定义 RSA 私钥加密。
- 检查每个下发的脚本，禁止调用私有 API，禁止下发大量代码。
- 修改类名或者代码混淆（具体原因见下面）。

### 为什么 SDK1.7 版本不会被扫描拒绝？
> 我们使用了简单的类名修改，避免被苹果扫描到关键字直接拒绝。
>
> 我们并非有意对苹果审核进行欺骗，苹果拒绝此类热修复我们在文章和解决方案里分析过，从审核条款来说 JSPatch 和 React Native 是一样的，但苹果允许 React Native 而拒绝 JSPatch，主要是安全问题和滥用问题，所以一刀切全部通过机器扫描禁止接入。
>
> 目前 JSPatch 平台已经解决了安全和滥用的问题，接入 JSPatch 平台不会有任何安全隐患，同时也会负责审核避免滥用，让热修复完全只用于临时修复 bug，提高 App 质量同时没有不良隐患，解决了苹果的顾虑，符合 iOS 平台的利益。但因为目前还未能与苹果正式沟通，所以若不修改名字，仍然会命中机器扫描的关键字导致被拒绝，于是我们暂时简单地修改了类名以避免机器审查，后续若能与苹果沟通，希望能以更正规的方式接入。

#### 参考：
- [关于苹果警告的解决方案](https://jspatch.com/Docs/apple)
- [JSPatch 平台更新公告](https://jspatch.com/Docs/new2017)
