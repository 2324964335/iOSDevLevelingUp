『挑战』模块需求（v4.3.0）
-------


######1.需求分析、逻辑分析

- 导航条右上角小红点的处理（点赞数+评论数+关注数+系统消息数）
- 下拉刷新
- 有上拉加载更多？（没有，显示默认 logo 图）
- 总体分为三部分（三个分区顺序可调？三个分区的头部标题是否动态展示？三个分区头部的样式是否统一？）：

	- 达人（永久展示，头部只展示标题，头部吸顶？）：
	    - 横向列表（有左拉查看更多）
	    - 列表中展示图片（文字随图？图片尺寸/比例固定？）
	    - 点击“如何成为达人”跳转H5，点击“达人榜”跳转原来的风尚达人
	    - 向左拉到底释放进入【更多】页面
	    - 展示数目大于多少个时展示【查看更多】？
	    - 最多展示 ？个
	    - 最少两个
	- 任务（永久展示，头部只展示标题，有【更多】按钮？，头部吸顶？）：
	    - 横向列表
	    - 列表中展示图片（文字随图？图片尺寸/比例固定？）
	    - 点击图片进入“做任务领红包”H5）
	    - 向左拉到底释放进入【更多】页面
	    - 展示数目大于多少个时展示【查看更多】？
	    - 最多展示 10 个
	    - 最少两个
	- 热门活动（永久展示，头部吸顶？头部展示标题和【更多】按钮，点击更多按钮进入活动列表页h5）：
	    - 纵向列表（有上拉加载更多？）
	    - 活动图片（带活动标题，文字不随图？）+ 参加人数（XX人以下不展示，文字不随图？），图片尺寸/比例固定？
	    - 点击图片进入活动详情 h5

######2.、功能点拆分、技术点

任务拆分：
	- 自定导航栏(导航栏+按钮+小红点)
	- 整体框架（tableView）
	- 横向滚动卡片（YHHorizontalCollectionViewContainerView）
	- 左拉进入下一页（YHTrailingPullControl）
	- 各 cell 的展示（达人+任务+活动）
	- 接口联调、数据处理 
	- 跳转处理
	- 埋点

- 整体页面架构
	- 所有跟数据相关的逻辑处理都放到 Model 层
	- APIManager 专门处理网络层的逻辑，包括请求路径参数设置、数据缓存、读取缓存
	- Controller 中只负责强逻辑，弱逻辑可以拆分出去，controller 中包含的逻辑有：
		- 设置导航栏
		- 点击导航栏按钮
		- 接收消息通知并刷新导航栏按钮上的数字
		- tableView 的列表展示（由单独的 tableViewDelegate 类处理）
		- tableView 上的点击事件
		- 上下拉刷新
		- 网络请求及根据数据的不同情况做处理（正常、网络错误、无数据）
	- View 中只负责展示，原则上不做多余的逻辑判断


估时：3天

######3.注意点、边界条件、限制条件、容错
- 接口返回数据 validation
- 网络错误提示界面
- 数据为空的提示界面
- 第一次打开页面时读取缓存
	- 缓存时直接存入 userDefaults
	- 因为在解析接口数据时，已经移除了 null，所以可以直接将解析的数据存到缓存中

######4.可扩展性、前瞻性
- 列表中增加更多样式的分区（section）
- 同一分区（section）中有多种不同的数据结构（model）


######5.参考


######6.拓展延伸


######7.测试 bug 汇总



